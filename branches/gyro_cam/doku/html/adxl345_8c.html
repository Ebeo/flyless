<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>FLYless: adxl345.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>adxl345.c File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &quot;<a class="el" href="adxl345_8h_source.html">adxl345.h</a>&quot;</code><br/>
<code>#include &quot;stm32f10x.h&quot;</code><br/>
<code>#include &quot;stm32f10x_gpio.h&quot;</code><br/>
<code>#include &quot;stm32f10x_spi.h&quot;</code><br/>
<code>#include &quot;stm32f10x_rcc.h&quot;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d7c5434e1ba5380f8e8fc41a4dbb105"></a><!-- doxytag: member="adxl345.c::ADXL_CS_LOW" ref="a7d7c5434e1ba5380f8e8fc41a4dbb105" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adxl345_8c.html#a7d7c5434e1ba5380f8e8fc41a4dbb105">ADXL_CS_LOW</a>&#160;&#160;&#160;GPIO_WriteBit(GPIOA,GPIO_Pin_4,Bit_RESET);</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">macro for selecting the ADXL345 <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20621871cd521e092d52f79800ab08c4"></a><!-- doxytag: member="adxl345.c::ADXL_CS_HIGH" ref="a20621871cd521e092d52f79800ab08c4" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adxl345_8c.html#a20621871cd521e092d52f79800ab08c4">ADXL_CS_HIGH</a>&#160;&#160;&#160;GPIO_WriteBit(GPIOA,GPIO_Pin_4,Bit_SET);</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">macro for releasing the ADXL345 <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ErrorStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_x_l345.html#ga515be22246de406138aac81725b02417">ADXL_SPI_Setup</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ADXL Setup Initialize GPIOs and SPI for SPI1 inclusive GPIOC_14 and GPIO_15 for interrupt handling Initial values for the sennsor are hardcoded ! -&gt; :(.  <a href="group___a_d_x_l345.html#ga515be22246de406138aac81725b02417"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_x_l345.html#ga710915ed3d25d6821df88efd3fa9b9e8">ADXL_Write</a> (uint8_t reg, uint8_t byte)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a single byte on the SPI interface.  <a href="group___a_d_x_l345.html#ga710915ed3d25d6821df88efd3fa9b9e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_x_l345.html#gacd4a7e2d0b4fa4dcd452069caf32e060">ADXL_ReadByte</a> (uint8_t reg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a single byte from the SPI interface.  <a href="group___a_d_x_l345.html#gacd4a7e2d0b4fa4dcd452069caf32e060"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_x_l345.html#gade610253fb1631ecf23a9011e83748eb">ADXL_ReadSeq</a> (uint8_t reg, uint8_t *data, uint8_t count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a sequence of bytes from the SPI interface.  <a href="group___a_d_x_l345.html#gade610253fb1631ecf23a9011e83748eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac125f43bd4f4c122e337badba444f3e4"></a><!-- doxytag: member="adxl345.c::ADXL_Clr_Rcv_Buf" ref="gac125f43bd4f4c122e337badba444f3e4" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_x_l345.html#gac125f43bd4f4c122e337badba444f3e4">ADXL_Clr_Rcv_Buf</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">dummy function for clearing the receive buffer of the SPI interface <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_x_l345.html#gaa19db377b2af2dbe1bfdcf3acc7baf2b">ADXL_GetACC</a> (int16_t *acc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the accelerometer values  <a href="group___a_d_x_l345.html#gaa19db377b2af2dbe1bfdcf3acc7baf2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_x_l345.html#ga38eef7277e2f231f7e3bb95bc284a258">ADXL_Convert_to_G</a> (int16_t *acc, float *acc_g)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the raw values to G forces.  <a href="group___a_d_x_l345.html#ga38eef7277e2f231f7e3bb95bc284a258"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_x_l345.html#ga7468e213fa5c879ab0150b6f7bd55dff">ADXL_CalAngle</a> (float *acc_g, float *angel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the angel based on the accelerometer values.  <a href="group___a_d_x_l345.html#ga7468e213fa5c879ab0150b6f7bd55dff"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="author"><dt><b>Author:</b></dt><dd>Michael Bubestinger C-file for Analog-Device ADXL345 Datasheet: <a href="http://www.analog.com/static/imported-files/data_sheets/ADXL345.pdf">http://www.analog.com/static/imported-files/data_sheets/ADXL345.pdf</a> </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Oct 28 2010 10:22:53 for FLYless by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
